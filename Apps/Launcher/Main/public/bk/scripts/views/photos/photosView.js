define(["jquery","underscore","backbone","dragdealer","bootstrap"],function(e,t,n,r){return n.View.extend({render:function(){console.log("photos successfull"),e(document).ready(function(){function x(e){e.find(g).fadeIn(),e.find(d).addClass("edit-modal"),E.css("transform","translateY(0)")}function T(e){e=e||f,e.find(g).fadeOut(),e.find(d).removeClass("edit-modal"),E.css("transform","translateY(120px)")}var t=e(".type-single .photo-footer .more");t.popover({html:!0,container:".content",trigger:"focus",content:function(){return'<ul><li><a href="#">select</a></li><li><a href="#">download</a></li><li><a href="#" data-toggle="modal" data-target="#airPlayModal">airplay</a></li><li><a href="#">delete</a></li><li><a href="#">information</a></li></ul>'},placement:"bottom"}),t.on("show.bs.popover",function(){e(this).parent().parent().addClass("show-footer")}),t.on("hide.bs.popover",function(){e(this).parent().parent().removeClass("show-footer")});var n=e("#uploadPhoto"),i=e("#editPhoto"),s=e("#listPhoto"),o=e("#listAlbum"),u=e(".toolbar>.btn-group>.btn"),a=e(".infobar"),f=e(".content"),l=e("#photos"),c=e(".photo-wrap"),h=e(".photo-multi-wrap"),p=e(".photo-single-wrap"),d=c.find(".photo"),v=d.find(".photo-content"),m=c.find(".photo-title"),g=e(".photo-header>.sel"),y=e(".photo-fs"),b=y.find(".fs-content>img");y.find('a[data-toggle="popover"]').popover();var w=e("a.curr-back"),E=e(".photo-toolbar"),S=e("#exitFsBtn");s.click(function(){if(h.is(":hidden"))return;u.removeClass("active"),s.addClass("active"),T(),h.fadeOut(),p.fadeIn()}),o.click(function(){u.removeClass("active"),o.addClass("active"),a.slideUp(400),f.animate({top:"50px"},400,function(){T(),h.fadeIn(),p.fadeOut()})}),l.click(function(){u.removeClass("active"),o.addClass("active"),a.slideUp(400),f.animate({top:"50px"},400,function(){T(),h.fadeIn(),p.fadeOut()})}),i.click(function(){u.removeClass("active");var e=h;e.is(":hidden")&&(e=p),e.find(g).is(":hidden")?(i.addClass("active"),e.find(g).find("input[type=radio]").attr("checked",!1),x(e)):(T(e),h.is(":hidden")?s.addClass("active"):o.addClass("active"))}),w.click(function(){u.removeClass("active"),o.addClass("active"),a.slideUp(400),f.animate({top:"50px"},400,function(){T(),h.fadeIn(),p.fadeOut()})}),d.click(function(t){var n=e(t.target),r=h,i=h.is(":hidden");i&&(r=p);if(r.find(g).is(":hidden"))if(!i)u.removeClass("active"),s.addClass("active"),a.slideDown(400),f.animate({top:"85px"},400,function(){h.fadeOut(),p.fadeIn()});else{if(n.attr("type")=="button"||n.hasClass("fa-ellipsis-h"))return;b.attr("src",e(this).find(".photo-content>img").attr("src")),y.fadeIn()}else{if(n.attr("type")!="radio"){var o=e(this).find("input[type=radio]");o.prop("checked")?o.prop("checked",!1):o.prop("checked",!0)}else n.attr("checked")=="checked"?n.removeAttr("checked"):n.attr("checked","checked");var l=r.find(g).find("input[type=radio]:checked").size();e("#currSelPhotoNum").html(l+" of 1508 photos")}}),S.click(function(){y.fadeOut()});var N=e("#scaleDragbar"),C=e("#scaleDragbarCurr"),k=e("ul.photo-grid>li.photo-item");new r("scaleDragbar",{x:0,animationCallback:function(e,t){var n=Math.round(e*100);console.log("slideDes: "+n),C.width(n+"%"),n==0?N.parent().prev().css("color","#ccc"):n==100?N.parent().next().css("color","#ccc"):(N.parent().prev().css("color","#2fafff"),N.parent().next().css("color","#2fafff")),k.width(100/((100-n)/50+3)+"%").css("margin-bottom",30+10*n/100);var r=200+104*n/100;c.width(r),d.width(r).height(r),v.height(r-2).css("line-height",r-2+"px").find("img").css("max-width",r).css("max-height",r),m.css("padding-top",15+10*n/100)}})})}})});