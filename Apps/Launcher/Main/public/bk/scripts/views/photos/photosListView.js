define(["jquery","underscore","backbone","handlebars","utils/gridUtil","collections/photos/photosCollection","text!templates/photos/photoList.html","bootstrap"],function(e,t,n,r,i,s,o){return n.View.extend({el:e("#photoContent"),initialize:function(){this.collection=new s,this.render()},render:function(){var t=r.compile(o);this.$el.html(t({photoGroup:this.collection.toJSON()})),i.handleGridView(e(this.$el.find(">ul"))),this.initPopover()},initPopover:function(){var t=e(".photo .more");t.popover({html:!0,container:".content",trigger:"focus",content:function(){return'<ul><li><a href="#">select</a></li><li><a href="#">download</a></li><li><a href="#" data-toggle="modal" data-target="#airPlayModal">airplay</a></li><li><a href="#">delete</a></li><li><a href="#">information</a></li></ul>'},placement:"bottom"}),t.on("show.bs.popover",function(){e(this).parent().parent().addClass("show-footer")}),t.on("hide.bs.popover",function(){e(this).parent().parent().removeClass("show-footer")})},events:{"click .photo":"clickPhoto"},clickPhoto:function(t){console.log("click photo");var n=e(t.target);if(!this.$el.find(".sel").is(":hidden"))if(n.attr("type")!="radio"){var r=e(t.currentTarget).find("input[type=radio]");r.prop("checked")?r.prop("checked",!1):r.prop("checked",!0),t.preventDefault()}else n.attr("checked")=="checked"?n.removeAttr("checked"):n.attr("checked","checked")}})});